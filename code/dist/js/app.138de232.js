(function(t){function n(n){for(var e,r,o=n[0],c=n[1],u=n[2],p=0,f=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);l&&l(n);while(f.length)f.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,n=0;n<i.length;n++){for(var a=i[n],e=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(e=!1)}e&&(i.splice(n--,1),t=r(r.s=a[0]))}return t}var e={},s={app:0},i=[];function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,n,a){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)r.d(a,e,function(n){return t[n]}.bind(null,e));return a},r.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=n,o=o.slice();for(var u=0;u<o.length;u++)n(o[u]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,n,a){t.exports=a("56d7")},"1fe4":function(t,n,a){},3842:function(t,n,a){},"38d0":function(t,n,a){},"3baf":function(t,n,a){},"51e5":function(t,n,a){"use strict";a("1fe4")},"541d":function(t,n,a){},"56d7":function(t,n,a){"use strict";a.r(n);a("cadf"),a("551c"),a("f751"),a("097d");var e=a("2b0e"),s=function(){var t=this,n=t._self._c;return n("div",{attrs:{id:"#app"}},[n("Header"),n("div",{staticClass:"container"},[n("router-view",{attrs:{name:"SliderBar"}}),n("router-view",{attrs:{name:"main"}})],1)],1)},i=[],r=function(){var t=this;t._self._c;return t._m(0)},o=[function(){var t=this,n=t._self._c;return n("div",{staticClass:"header"},[n("div",{staticClass:"container"},[n("img",{attrs:{src:a("d686"),alt:""}}),n("ul",[n("li",[n("a",{attrs:{href:"#"}},[t._v("首页")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("新手入门")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("API")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("关于")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("注册")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("登录")])])])])])}],c={name:"Header"},u=c,l=(a("7a97"),a("2877")),p=Object(l["a"])(u,r,o,!1,null,"22c98e07",null),f=p.exports,d={name:"home",components:{Header:f}},h=d,_=(a("51e5"),Object(l["a"])(h,s,i,!1,null,null,null)),v=_.exports,g=a("8c4f"),m=function(){var t=this,n=t._self._c;return n("div",{staticClass:"article"},[t.isLoading?n("div",{staticClass:"loading"},[n("img",{attrs:{src:a("cf1c")}})]):n("div",{attrs:{c:""}},[n("div",{staticClass:"topic_header"},[n("div",{staticClass:"topic_title"},[t._v(t._s(t.post.title))]),n("ul",[n("li",[t._v("•发布于："+t._s(t._f("formatDate")(t.post.create_at)))]),n("li",[t._v("\n            • 作者：\n            "+t._s(t.post.author.loginname)+"\n          ")]),n("li",[t._v("• "+t._s(t.post.visit_count)+"次浏览")]),n("li",[t._v("•来自"+t._s(t._f("tabFormatter")(t.post)))])]),n("div",{staticClass:"topic_content",domProps:{innerHTML:t._s(t.post.content)}})]),n("div",{attrs:{id:"reply"}},[n("div",{staticClass:"topbar"},[t._v("回复")]),t._l(t.post.replies,(function(a,e){return n("div",{key:e,staticClass:"replySec"},[n("div",{staticClass:"replyUp"},[n("router-link",{attrs:{to:{name:"user_info",params:{name:a.author.loginname}}}},[n("img",{attrs:{src:a.author.avatar_url,alt:""}})]),n("router-link",{attrs:{to:{name:"user_info",params:{name:a.author.loginname}}}},[n("span",[t._v(t._s(a.author.loginname))])]),n("span",[t._v(" "+t._s(e+1)+"楼 ")]),a.ups.length>0?n("span",[t._v(" ☝ "+t._s(a.ups.length)+" ")]):n("span")],1),n("p",{domProps:{innerHTML:t._s(a.content)}})])}))],2)])])},b=[],y={name:"Article",data:function(){return{isLoading:!1,post:{}}},methods:{getArticleData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/topic/".concat(this.$route.params.id)).then((function(n){!0===n.data.success&&(t.isLoading=!1,t.post=n.data.data)})).catch((function(t){console.log(t)}))}},beforeMount:function(){this.isLoading=!0,this.getArticleData()},watch:{$route:function(t,n){this.getArticleData()}}},C=y,k=(a("faa0"),Object(l["a"])(C,m,b,!1,null,null,null)),j=k.exports,L=function(){var t=this,n=t._self._c;return n("div",{staticClass:"postlist"},[t.isLoading?n("div",{staticClass:"loading"},[n("img",{attrs:{src:a("cf1c"),alt:"loading"}})]):t._e(),n("div",{staticClass:"posts"},[n("div",{staticClass:"panel"},[n("a",{class:{active:1===t.isactive},on:{click:function(n){return t.tabChange("all",1)}}},[t._v("全部")]),n("a",{class:{active:2===t.isactive},on:{click:function(n){return t.tabChange("good",2)}}},[t._v("精华")]),n("a",{class:{active:3===t.isactive},on:{click:function(n){return t.tabChange("share",3)}}},[t._v("分享")]),n("a",{class:{active:4===t.isactive},on:{click:function(n){return t.tabChange("ask",4)}}},[t._v("问答")]),n("a",{class:{active:5===t.isactive},on:{click:function(n){return t.tabChange("job",5)}}},[t._v("招聘")])]),t._l(t.posts,(function(a,e){return n("div",{key:e,staticClass:"cell"},[n("img",{attrs:{src:a.author.avatar_url,alt:""}}),n("span",[n("span",{staticClass:"reply_count"},[t._v(t._s(a.reply_count)+"/"+t._s(a.visit_count))])]),n("span",{class:[{put_good:!0===a.good,put_top:!0===a.top,topiclist_tab:1!=a.good&&1!=a.top}]},[n("span",[t._v("\n            "+t._s(t._f("tabFormatter")(a))+"\n          ")])]),n("router-link",{attrs:{to:{name:"post_content",params:{id:a.id,name:a.author.loginname}}}},[n("span",{staticClass:"title"},[t._v(t._s(a.title))])]),n("span",{staticClass:"reply_time"},[t._v(t._s(t._f("formatDate")(a.last_reply_at)))])],1)})),n("pagination",{on:{handleList:t.renderList}})],2)])},w=[],x=function(){var t=this,n=t._self._c;return n("div",{staticClass:"pagination"},[n("button",{on:{click:t.changeBtn}},[t._v("首页")]),n("button",{on:{click:t.changeBtn}},[t._v("上一页")]),t.jduge?n("button",{staticClass:"pagebtn"},[t._v("......")]):t._e(),t._l(t.pagebtns,(function(a,e){return n("button",{key:e,class:[{currentPage:a==t.currentPage},"pagebtn"],on:{click:function(n){return t.changeBtn(a)}}},[t._v("\n      "+t._s(a)+"\n    ")])})),n("button",{on:{click:t.changeBtn}},[t._v("下一页")])],2)},P=[],O=a("1157"),D=a.n(O),$={name:"Pagination",data:function(){return{pagebtns:[1,2,3,4,5,"......"],currentPage:1,jduge:!1}},methods:{changeBtn:function(t){if("number"===typeof t)this.currentPage=t,this.jduge=t>4,t===this.pagebtns[4]?(this.pagebtns.shift(),this.pagebtns.splice(4,0,this.pagebtns[3]+1)):t===this.pagebtns[0]&&1!==t&&(this.pagebtns.unshift(this.pagebtns[0]-1),this.pagebtns.splice(5,1)),this.$emit("handleList",this.currentPage);else switch(t.target.innerText){case"上一页":D()("button.currentPage").prev().click();break;case"下一页":D()("button.currentPage").next().click();break;case"首页":this.pagebtns=[1,2,3,4,5,"......"],this.changeBtn(1);break;default:break}}}},S=$,B=(a("596a"),Object(l["a"])(S,x,P,!1,null,"2ecc7038",null)),I=B.exports,M={name:"PostList",data:function(){return{isLoading:!1,posts:[],tab:"",isactive:1,postpage:1}},components:{pagination:I},created:function(){this.isLoading=!0,this.getData()},methods:{getData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/topics",{params:{tab:this.tab,page:this.postpage,limit:20}}).then((function(n){t.isLoading=!1,t.posts=n.data.data})).catch((function(t){console.log(t)}))},renderList:function(t){this.postpage=t,this.getData()},tabChange:function(t,n){this.tab=t,this.isactive=n,this.getData()}}},T=M,A=(a("8ff8"),Object(l["a"])(T,L,w,!1,null,"45a279b7",null)),H=A.exports,F=function(){var t=this,n=t._self._c;return n("div",[t.isLoading?n("div",{staticClass:"loading"},[n("img",{attrs:{src:a("cf1c"),alt:"loading"}})]):t._e(),n("div",{staticClass:"userInformation"},[n("header",[n("img",{attrs:{src:t.post.avatar_url,alt:""}}),t._v(t._s(t.post.loginname)+" 注册时间："+t._s(t._f("formatDate")(t.post.create_at))+"积分："+t._s(t.post.score)+"\n      ")]),n("div",{staticClass:"box1"},[n("h3",[t._v("回复的主题")]),t._l(t.post.recent_topics,(function(a,e){return n("div",{key:e},[n("router-link",{attrs:{to:{name:"post_content",params:{id:a.id}}}},[t._v(t._s(a.title))])],1)}))],2),n("div",{staticClass:"box2"},[n("h3",[t._v("创建的主题")]),t._l(t.post.recent_replies,(function(a,e){return n("div",{key:e},[n("router-link",{attrs:{to:{name:"post_content",params:{id:a.id}}}},[t._v(t._s(a.title))])],1)}))],2)])])},J=[],U=(a("7f7f"),{name:"UserInfo",data:function(){return{isLoading:!1,post:{}}},created:function(){this.isLoading=!0,this.getData()},methods:{getData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/user/".concat(this.$route.params.name)).then((function(n){t.isLoading=!1,console.log(n),t.post=n.data.data})).catch((function(t){console.log(t)}))}}}),q=U,z=(a("d6b3"),Object(l["a"])(q,F,J,!1,null,"5cfe9f6a",null)),E=z.exports,G=function(){var t=this,n=t._self._c;return n("div",{staticClass:"autherinfo"},[n("div",{staticClass:"authersummay"},[n("div",{staticClass:"topbar"},[t._v("作者")]),n("router-link",{attrs:{to:{name:"user_info",params:{name:t.userinfo.loginname}}}},[n("img",{attrs:{src:t.userinfo.avatar_url,alt:""}})])],1),n("div",{staticClass:"recent_topics"},[n("div",{staticClass:"topbar"},[t._v("最近主题")]),n("ul",t._l(t.replylimitby5,(function(a,e){return n("li",{key:e},[n("router-link",{attrs:{to:{name:"post_content",params:{id:a.id,name:a.author.loginname}}}},[t._v("\n            "+t._s(a.title)+"\n          ")])],1)})),0)]),n("div",{staticClass:"recent_replies"},[n("div",{staticClass:"topbar"},[t._v("最近回复")]),n("ul",t._l(t.replylimitby5,(function(a,e){return n("li",{key:e},[n("router-link",{attrs:{to:{name:"post_content",params:{id:a.id,name:a.author.loginname}}}},[t._v("\n            "+t._s(a.title)+"\n          ")])],1)})),0)])])},K=[],N={name:"SliderBar",data:function(){return{userinfo:{}}},methods:{getData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/user/".concat(this.$route.params.name)).then((function(n){t.isLoading=!1,t.userinfo=n.data.data})).catch((function(t){console.log(t)}))}},computed:{topcilimitby5:function(){if(this.userinfo.recent_topics)return this.userinfo.recent_topics.slice(0,5)},replylimitby5:function(){if(this.userinfo.recent_replies)return this.userinfo.recent_replies.slice(0,5)}},beforeMount:function(){this.getData()}},Q=N,R=(a("613c"),Object(l["a"])(Q,G,K,!1,null,"72b5145b",null)),V=R.exports;e["a"].use(g["a"]);var W=new g["a"]({routes:[{path:"/",name:"root",components:{main:H}},{path:"/topic/:id&author=:name",name:"post_content",components:{main:j,SliderBar:V}},{name:"user_info",path:"/userinfo/:name",components:{main:E}}]}),X=a("2f62");e["a"].use(X["a"]);var Y=new X["a"].Store({state:{},mutations:{},actions:{}}),Z=a("bc3a"),tt=a.n(Z);e["a"].config.productionTip=!1,e["a"].prototype.$http=tt.a,new e["a"]({router:W,store:Y,render:function(t){return t(v)}}).$mount("#app"),e["a"].filter("formatDate",(function(t){var n=new Date(t),a=new Date,e="",s=6e4,i=60*s,r=24*i,o=30*r,c=12*o,u=a-n,l=u/o,p=u/(7*r),f=u/r,d=u/i,h=u/s,_=u/c;return e=u<s?"刚刚发表":_>1?parseInt(_)+"年前":l>1?parseInt(l)+"月前":p>1?parseInt(p)+"周前":f>1?parseInt(f)+"天前":d>1?parseInt(d)+"小时前":h>1?parseInt(h)+"分钟前":"刚刚发表",e})),e["a"].filter("tabFormatter",(function(t){return!0===t.good?"精华":!0===t.top?"置顶":"ask"===t.tab?"问答":"share"===t.tab?"分享":"招聘"}))},"596a":function(t,n,a){"use strict";a("541d")},"613c":function(t,n,a){"use strict";a("3842")},"7a97":function(t,n,a){"use strict";a("af5c")},"8ff8":function(t,n,a){"use strict";a("b5c9")},af5c:function(t,n,a){},b5c9:function(t,n,a){},cf1c:function(t,n,a){t.exports=a.p+"img/loading.078fcd09.gif"},d686:function(t,n,a){t.exports=a.p+"img/cnodejs_light.86f6a7c2.svg"},d6b3:function(t,n,a){"use strict";a("38d0")},faa0:function(t,n,a){"use strict";a("3baf")}});
//# sourceMappingURL=app.138de232.js.map